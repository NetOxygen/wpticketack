{"version":3,"sources":["app/Models/CartItem.js"],"names":["e","a","define","dependencies","CartItem","SCREENING_TYPE","_this","Array","Object","prototype","toString","call","cartItem","_","mapKeys","screening","o","expire","moment","u","M","t","s","getFormattedExpireAt","push","format","h","hasOwnProperty"],"mappings":"CAAA,SAAAA,EAAAC,GAGAC,iJAHA,sCAKI,SAASC,IAITC,OAASC,EAATD,MAASC,KAAAA,WAOmB,SAXgBD,EAAAA,GAAA,OAAAE,aAAAC,OAAA,mBAAAC,OAAAC,UAAAC,SAAAC,KAAAX,GAAA,SAuBxCY,EAAAA,GACIC,OAAAC,MACIF,GAAeG,oBAALP,OAAAC,UAAAC,SAAAC,KAAAX,GAAA,SAzBsBgB,EAAAhB,GAAA,YAAAiB,IAAAC,EA+BSd,SA/BTK,EAAAA,GAmC5CL,MAAAA,iBAAAA,GAAAA,oBAAAA,OAAAA,UAAAA,SAAAA,KAAAA,GACI,SApCwCe,EAAAnB,GAuCrCI,OAAAA,aAAAA,MAAAA,kBAAAA,OAAAA,UAAAA,SAAAA,KAAAA,GAJPA,SAnC4CgB,EAAApB,EAAAC,GAAA,IAAAoB,EAAAC,EAAA,GA+B5ClB,IAASK,EAAAA,EAAAA,EAAUc,EAAAA,SAAAA,EACfD,EAAAE,KAAOvB,EAAKgB,EAAAA,GAAOQ,IAhCqB,OAAAH,EAmCM,SAC9CI,EAAU1B,EAAAC,GApC8B,OAAAO,OAAAC,UAAAkB,eAAAhB,KAAAX,EAAAC,GAFhDC,SAAAA,EAAAA,EAAAA","file":"app.js","sourcesContent":["/**\n * CartItem model\n */\ndefine(\n    ['lodash', 'moment', 'app/Models/Base'],\n    function dependencies(_, moment, BaseModel) {\n\n    CartItem.type = 'cart_item';\n\n    CartItem.SCREENING_TYPE = 'screening';\n\n    /**\n     * Constructor\n     *\n     * @param {Object} cart item like returned from the engine\n     */\n    function CartItem(cartItem) {\n        BaseModel.call(this, cartItem);\n        cartItem = cartItem || {};\n\n        _.mapKeys(cartItem, (val, key) => {\n            this[key] = val;\n        });\n\n        this.expire = moment(this.expire);\n    }\n\n    CartItem.prototype.getFormattedTitle = function() {\n        switch (this.type) {\n            case CartItem.SCREENING_TYPE:\n                return `${this.screening.title.fr} le ${this.screening.start_at.format('LL')} Ã  ${this.screening.start_at.format('HH:mm')}`;\n            default:\n                return this.name;\n        }\n    };\n\n    CartItem.prototype.getFormattedExpireAt = function() {\n        return this.expire.format('HH:mm');\n    };\n\n    CartItem.prototype.getFormattedPrice = function() {\n        return `${this.amount} CHF`;\n    };\n\n    return CartItem;\n});\n"]}